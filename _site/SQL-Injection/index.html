<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet"> 
<link rel="icon" href="/seifallahhomrani1.github.io/assets/images/favicon.ico">

<title>SQLi - SQL Injection | Seif-Allah's Blog</title>

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>SQLi - SQL Injection | Seif-Allah’s Blog</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="SQLi - SQL Injection" />
<meta name="author" content="Seif-Allah" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction to SQL Injection" />
<meta property="og:description" content="Introduction to SQL Injection" />
<meta property="og:site_name" content="Seif-Allah’s Blog" />
<meta property="og:image" content="/seifallahhomrani1.github.io/assets/images/database/sql.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-24T00:00:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="/seifallahhomrani1.github.io/assets/images/database/sql.png" />
<meta property="twitter:title" content="SQLi - SQL Injection" />
<script type="application/ld+json">
{"@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/seifallahhomrani1.github.io/assets/images/cover.png"},"name":"Seif-Allah"},"image":"/seifallahhomrani1.github.io/assets/images/database/sql.png","url":"/seifallahhomrani1.github.io/SQL-Injection/","headline":"SQLi - SQL Injection","dateModified":"2020-11-24T00:00:00+01:00","datePublished":"2020-11-24T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"/seifallahhomrani1.github.io/SQL-Injection/"},"author":{"@type":"Person","name":"Seif-Allah"},"description":"Introduction to SQL Injection","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
<link href="/seifallahhomrani1.github.io/assets/css/prism.css" rel="stylesheet">

<link href="/seifallahhomrani1.github.io/assets/css/theme.css" rel="stylesheet">

<script src="/seifallahhomrani1.github.io/assets/js/jquery.min.js"></script>

</head>




<body>


<!-- Begin Sidebar Navigation
================================================== -->

<div class="sidebar">    
</div>   
<div class="nav-icon">
    <div class="hamburger-bar"></div>
</div>
<div id="blackover-nav" class="blackover"></div>
<nav id="menu">
    <ul>
        <h3>Navigation</h3>
        <li><a href="/seifallahhomrani1.github.io/">Home</a></li>
        <li><a  href="/seifallahhomrani1.github.io/contact">Contact</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Python">Python</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Java">Java</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#CTF-WriteUp">CTF-WriteUp</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Articles">Articles</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Networking">Networking</a></li>    
        <li><a href="/seifallahhomrani1.github.io/categories#Databases">Databases</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Django">Django</a></li>     
        <li><a href="/seifallahhomrani1.github.io/categories#Linux">Linux</a></li>     
    </ul>   
</nav>

<script src="/seifallahhomrani1.github.io/assets/js/lunr.js"></script>

<style>
    
</style>

<div class="wrap-search">
    <div class="d-flex align-items-center ml-auto">
        <i class="fas fa-search show-search"></i>
        <form class="bd-search ml-3" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
            <input type="text" class="form-control bigradius text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
        </form>
    </div>
</div>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/seifallahhomrani1.github.io/assets/js/lunrsearchengine.js"></script>


<!-- End Sidebar Navigation
================================================== -->

<div class="site-content ">

<div class="container">

    <!-- Site Logo/Name
    ================================================== -->
   
    <a class="navbar-brand" href="/seifallahhomrani1.github.io/">
        <img src="/seifallahhomrani1.github.io/assets/images/cover.png" alt="Seif-Allah's Blog">
    </a>  
   

    <!-- Site Tag
    ================================================== -->
    

    <!-- Content
    ================================================== -->
    <div class="main-content">
        <div class="entry-header">
    <!-- Post Title -->
    <h1 class="posttitle">SQLi - SQL Injection</h1>
    <!-- Author & Date  Box -->
    
    
    <div class="d-flex align-items-center mt-4">
        <div>
            
            <img class="author-thumb" src="https://www.gravatar.com/avatar/87daf283c8d29fa33059e59cf5d183bb?s=250&d=mm&r=x" alt="Seif-Allah">
            
        </div>            
        <div>
        Written by <a target="_blank" class="text-dark" href="seifallahhomrani1.social">Seif-Allah</a> on 
        <span class="post-date"><time class="post-date" datetime="2020-11-24">24 Nov 2020</time></span>           
        
        </div>            
    </div>
    
</div>

<!-- Adsense under title if enabled from _config.yml (change your pub id and slot) -->


<!-- Featured Image -->

<div class="entry-featured-image">
    
    <img class="featured-image " src="/seifallahhomrani1.github.io//assets/images/database/sql.png" alt="SQLi - SQL Injection">
    
</div>


<!-- Content -->
<!-- Post, Page Content
================================================== -->
<div class="article-post">
    <!-- Toc if any -->
    
    <!-- End Toc -->
    <p><br /></p>

<p><img src="/assets/images/database/sql.png" style="  width: 100%; max-width: 600px; height: auto;" /></p>

<h3 id="what-is-sql-injection">What is SQL injection</h3>

<p>SQL injection is a <em>web security</em> vulnerability that allows an attacker to interfere with the queries that an application makes to its database. It generally allows an attacker to view data that they are not normally able to retrieve. This might include data belonging to other users, or any other data that the application itself is able to access. In many cases, an attacker can modify or delete this data, causing persistent changes to the application content or behavior. In some situations, an attacker can escalate an SQL injection attack to compromise the underlying server or other back-end infrastructure, or perform a denial-of-service attack.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/_jKylhJtPmI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h3 id="results-of-a-successful-sql-injection-attack">Results of a successful SQL injection attack</h3>

<p>The attacker can access to sensitive data (passwords, credit card details, personal information …) Many high-profile data breaches in recent years have been the result of SQL injection attacks, leading to reputational damage and regulatory fines. In some cases, an attacker can obtain a persistent backdoor into an organization’s systems, leading to a long-term compromise that can go unnoticed for an extended period.</p>

<h3 id="sql-injection-examples">SQL injection examples</h3>
<p>There are a wide variety of SQL injection vulnerabilities, attacks and techniques, which arise in different situations. Some common SQL injection examples include:</p>

<ul>
  <li>
    <p><strong>Retrieving hidden data</strong>: where you can modify an SQL query to return additional results.</p>
  </li>
  <li>
    <p><strong>Subverting application logic</strong>: where you can change a query to interfere with the application’s logic.</p>
    <blockquote>
      <p>Lab : <a href="https://portswigger.net/web-security/sql-injection/lab-login-bypass">Subverting application logic</a>
Consider an application that lets users log in with a username and password. If a user submits the username <em>wiener</em> and the password <em>bluecheese</em>, the application checks he credentials by performing the following SQL query:</p>
      <pre><code class="language-sql">SELECT * FROM users WHERE username = 'wiener' AND password = 'bluecheese'  
</code></pre>
      <p>If the query returns the details of a user, then the login is successful, otherwise, it’s rejected.</p>
    </blockquote>
  </li>
</ul>

<p>Here, an attacker can log in as any user without a password simply by using the SQL comment sequence – to remove the password check from the WHERE clause of the query. For example, submitting the username *administrator’– and a blank password results in the following query:</p>
<pre><code class="language-sql">SELECT * FROM users WHERE username = 'administrator'--'AND password = ''
</code></pre>
<p>This query returns the user whose username is administrator and successfully logs th attacker in as that user.</p>

<ul>
  <li>Union attacks: where you can retrieve data from different database tables.</li>
</ul>

<p>In cases where the results of an SQL query are returned within the application’s responses, an attacker can leverage an SQL injection vulnerability to retrieve data from other tables within the database. This is done using the UNION keyword, which lets you execute an additional SELECT query and append the results to the original query.</p>

<p>For example, if an application executes the following query containing the user input “Gifts”:</p>
<pre><code class="language-sql">SELECT name, description FROM products WHERE category = 'Gifts'
</code></pre>
<p>then an attacker can submit the input:
‘ UNION SELECT username, password FROM users–
This will cause the application to return all usernames and passwords along with the names and descriptions of products.</p>

<p>To carry out an SQL injection UNION attack, you need to ensure that your attack meets these two requirements. This generally involves figuring out:</p>
<ul>
  <li>How many columns are being returned from the original query ?</li>
  <li>Which columns returned from the original query are of a suitable data type to hold the results from the injected query ?</li>
</ul>

<ol>
  <li><em>Determining the number of columns required in an SQL injection UNION attack</em> : 
First of all, you can inject a series of ORDER BY clauses and incrementing the specified column index until an error occurs. For example, assuming the injection point is a quotes string within the WHERE clause of the original query, you would submit: 
‘ ORDER BY 1–
‘ ORDER BY 2–
‘ ORDER BY 3–
‘ ORDER BY 4–
Until the database returns an error such as :
<em>The ORDER BY position number 3 is out of range of items in the select list.</em>
The second method involves submitting a series of UNION SELECT payloads specifying a different number of null values:
‘ UNION SELECT NULL–
‘ UNION SELECT NULL,NULL–
‘ UNION SELECT NULL,NULL,NULL–
etc.</li>
</ol>

<p>If the number of nulls does not match the number of columns, the database returns an error such as:
<em>All queries combined using a UNION, INTERSECT or EXCEPT operator must have an equal number of expressions in their target lists.</em></p>

<p>Again, the application might actually return this error message, or might just return a generic error or no results. When the number of nulls matches the number of columns, the database returns an additional row in the result set, containing null values in each column. The effect on the resulting HTTP response depends on the application’s code. If you are lucky, you will see some additional content within the response, such as an extra row on a HTML table. Otherwise, the null values might trigger a different error, such as a <em>NullPointerException</em>. Worst case, the response might be indistinguishable from that which is caused by an incorrect number of nulls, making this method of determining the column count ineffective.</p>

<h3 id="why-using-null-">Why using NULL ?</h3>

<p>The reason for using NULL as the values returned from the injected SELECT query is that the data types in each column must be compatible between the original and the injected queries. Since NULL is convertible to every commonly used data type, using NULL maximizes the chance that the payload will succeed when the column count is correct.</p>

<h3 id="oracle-syntax">Oracle Syntax</h3>
<p>On Oracle, every SELECT query must use the FROM keyword and specify a valid table. There is a built-in table on Oracle Called DUAL which can be used for this purpose. So the injected queries on Oracle would need to look like : ‘ UNION SELECT NULL FROM DUAL–</p>
<h3 id="comments">Comments</h3>
<p>The payloads described use the double-dash comment sequence – to comment out the remainder of the original query following the injection point. On MySQL, the double-dash sequence must be followed by a space. Alternatively, the hash character # cna be used to identify a comment.</p>


</div>

<!-- Rating -->


<!-- Author Box if enabled from _config.yml -->
<!-- Author Box -->




<!-- Comments if not disabled with comments: false -->
<!-- Comments
================================================== -->
 
<div class="comments">
    <button class="btn btn-dark show-comments">Load Comments</button>         
    <div id="comments">  
        <h4 class="mb-4">Comments</h4>                 
            <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'demowebsite'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
     
    <div class="clearfix"></div>              
    </div>    
</div>       


<!-- Share -->
<div class="share">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=SQLi - SQL Injection&url=/seifallahhomrani1.github.io/SQL-Injection/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=/seifallahhomrani1.github.io/SQL-Injection/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=/seifallahhomrani1.github.io/SQL-Injection/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
</div>


<!-- Related Post -->
<!-- Related Posts
================================================== -->
<div class=" related-posts ">  

    
    <h2 class="text-center mb-4">Explore more like this</h2>
    
    
    <div class="d-flex justify-content-center align-items-center">
    
    <!-- Categories -->
    
    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/seifallahhomrani1.github.io/categories#Databases">Databases</a>                
    

    <!-- Tags -->  
    
    

    </div>

    
    
    
    <div class="blog-grid-container">
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/seifallahhomrani1.github.io/SQLi-Hidden-data/">
                

                    
                        <img class="img-thumb" src="/seifallahhomrani1.github.io//assets/images/database/sql.png" alt="SQLi - Retrieving Hidden Data"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/seifallahhomrani1.github.io/SQLi-Hidden-data/">SQLi - Retrieving Hidden Data</a>
                
            </h2>
            <h4 class="card-text">Retrieving Hidden Data using SQL injection</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/87daf283c8d29fa33059e59cf5d183bb?s=250&d=mm&r=x" alt="Seif-Allah">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="seifallahhomrani1.social">Seif-Allah</a></span> 
                
                <span class="post-date">27 Nov 2020</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/seifallahhomrani1.github.io/Databases-Introduction/">
                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/seifallahhomrani1.github.io/Databases-Introduction/">Databases - Introduction</a>
                
            </h2>
            <h4 class="card-text">Introduction to Databases, Why we use them and how to manipulate them.</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/87daf283c8d29fa33059e59cf5d183bb?s=250&d=mm&r=x" alt="Seif-Allah">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="seifallahhomrani1.social">Seif-Allah</a></span> 
                
                <span class="post-date">14 Oct 2020</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        </div>        
</div>

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

    </div>

    
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">

                <div class="col-md-6 col-sm-12 text-center text-lg-left">
                    Copyright © 2021 Seif-Allah's Blog 
                </div>
            <div class="col-md-6 col-sm-12 text-center text-lg-right">
                Made with love by    
                <a target="_blank" href="fb.com/seifallahhomrani1">Seif-Allah</a>
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts (if you need bootstrap.js, please add it yourself. I didn't use it for performance reasons, it was not needed in this theme)
================================================== -->

<script src="/seifallahhomrani1.github.io/assets/js/prism.js"></script>

<script src="/seifallahhomrani1.github.io/assets/js/theme.js"></script>




<script id="dsq-count-scr" src="//demowebsite.disqus.com/count.js"></script>


</body>
</html>
