<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Seif-Allah's Blog" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Seif-Allah's Blog" /> <title> Django - Placeholder Image Server : First Steps - Seif-Allah's Blog </title> <link rel="alternate" href="http://localhost:4000/placeholder_image_server/" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/placeholder_image_server/" /> <meta name="description" content="Making my first Django project" /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="Django - Placeholder Image Server : First Steps | Seif-Allah Homrani" /> <meta property="og:title" content="Django - Placeholder Image Server : First Steps | Seif-Allah Homrani" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/placeholder_image_server/" /> <meta property="og:description" content="Making my first Django project" /> <meta property="og:image" content="http://localhost:4000/assets/images/Django/stateless_web_app.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="Django - Placeholder Image Server : First Steps | seifallah1" /> <meta name="twitter:url" content="http://localhost:4000/placeholder_image_server/" /> <meta name="twitter:site" content="@seifallah1" /> <meta name="twitter:creator" content="@seifallah1" /> <meta name="twitter:description" content="Making my first Django project" /> <meta name="twitter:image" content="http://localhost:4000/assets/images/Django/stateless_web_app.png" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Seif-Allah's Blog" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> </head> <body data-theme="dark" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">home</a><a class="menu-link" href="/archive/">archive</a><a class="menu-link" href="/about/">about</a></div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <div class="tags"> <span itemprop="keywords"> <a class="tag" href="/tags/#django">DJANGO</a>, <a class="tag" href="/tags/#hello">HELLO</a>, <a class="tag" href="/tags/#world">WORLD</a>, <a class="tag" href="/tags/#web">WEB</a>, <a class="tag" href="/tags/#coding">CODING</a>, <a class="tag" href="/tags/#first">FIRST</a>, <a class="tag" href="/tags/#tutorial">TUTORIAL</a> </span> </div> <h1 class="header-title" itemprop="headline">Django - Placeholder Image Server : First Steps</h1> <div class="post-meta"> <time datetime="2020-11-04T00:00:00+01:00" itemprop="datePublished"> Nov 04, 2020 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Seif-Allah Homrani</span> </span> <time hidden datetime="" itemprop="dateModified"> Nov 04, 2020 </time> <span hidden itemprop="publisher" itemtype="Person">Seif-Allah Homrani</span> <span hidden itemprop="image">/assets/images/Django/stateless_web_app.png</span> <span hidden itemprop="mainEntityOfPage"><p>In 2005, Django was originally developed at World Online in Lawrence, Kansas, as a way for reporters to quickly create content for the Web. Since then, it has been used by publishing organizations such as the Washington Post, the Guardian, PolitiFact, and the Onion. This aspect of Django may give the impression that its main purpose is content publishing, or that Django itself is a content management system. With large organizations such as NASA adopting Django as their framework of choice, however, Django has obviously outgrown its original purpose.</p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p>In 2005, Django was originally developed at World Online in Lawrence, Kansas, as a way for reporters to quickly create content for the Web. Since then, it has been used by publishing organizations such as the Washington Post, the Guardian, PolitiFact, and the Onion. This aspect of Django may give the impression that its main purpose is content publishing, or that Django itself is a content management system. With large organizations such as NASA adopting Django as their framework of choice, however, Django has obviously outgrown its original purpose.</p> <h3 id="why-stateless-"> <a href="#why-stateless-" class="anchor-head"></a> Why Stateless ? </h3> <p>HTTP itself is a stateless protocol, meaning each erequest that comes to the server is independent of the previous request. If a particular state is needed, it has to be added at the application layer. Frameworks like Django uses cookies and other mechanisms to tie together requests made by the same client.</p> <p>Along with a persistent session stire on the server, the application can then handle tasks, such as holding user authentication across requests. With that comes a number of challenges, as this consistent state reads, and potentially writes, on every request in a distributed server architecture.</p> <p>As you can imagine, a stateless application does not maintain this consistent state on a server. If authentication or other user credentials are required, then they must be passed by the client on every request.</p> <h3 id="placeholder-image-server--introduction"> <a href="#placeholder-image-server--introduction" class="anchor-head"></a> Placeholder Image Server | INTRODUCTION </h3> <p>Placeholder images are frequently used in application prototypes, example projects or testing environment. A typical placeholder image service will take a URL that indicates the size of the image and generate that image. The URL may contain additional information, such as the color of the image or text to display within the image. Since everything that is needed to construct the requested image is contained withing the URL, and there’s little need for authentication, this makes a good candidate for a stateless application.</p> <h3 id="first-steps"> <a href="#first-steps" class="anchor-head"></a> First Steps </h3> <p>First, we need to create our project using <em>django-admin startproject</em> command, migrate our new configurations and then start a new app using <em>python3 manage.py startapp placeholder</em>.</p> <hr /> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>seifallah@seifallah-Aspire-E5-573:~/Documents/Django$ tree chapter2/
chapter2/
├── chapter2
│   ├── asgi.py
│   ├── __init__.py
│   ├── __pycache__
│   │   ├── __init__.cpython-36.pyc
│   │   ├── settings.cpython-36.pyc
│   │   └── urls.cpython-36.pyc
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── db.sqlite3
├── manage.py
└── placeholder
    ├── admin.py
    ├── apps.py
    ├── __init__.py
    ├── migrations
    │   └── __init__.py
    ├── models.py
    ├── tests.py
    ├── urls.py
    └── views.py

4 directories, 18 files
</code></pre></div></div><hr /> <p>Now we need to edit our files, first let’s write the first view :</p><hr /> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#index view
</span><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s">'index'</span><span class="p">)</span>

<span class="c1">#placeholder view
</span><span class="k">def</span> <span class="nf">placeholder</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s">'Ok'</span><span class="p">)</span>

</code></pre></div></div><hr /> <p>To call this view, we need to map it to a URL and for this we need URLConf.</p> <p>We created a file called <strong>urls.py</strong> inside our app folder :</p><hr /> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">re_path</span>
<span class="c1">#re_path stands for regex path
</span>


<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">''</span><span class="p">,</span><span class="n">views</span><span class="p">.</span><span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'index'</span><span class="p">),</span>
<span class="c1"># The stub of the placeholder view will take two arguments: width and height.
# As mentioned previously, those parameters will be captured by the URL and passed to the view.
# URL patters in Django can use regular expressions to match the incoming URL so we'll use re_path.  
</span>    <span class="n">re_path</span><span class="p">(</span><span class="sa">r</span><span class="s">'^image/(?P&lt;width&gt;[0-9]+)*(?P&lt;height&gt;[0-9]+)/$'</span><span class="p">,</span> <span class="n">placeholder</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'placeholder'</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div></div> <p>The next step is to point the root URLconf at the <em>placeholder.urls</em> module in our site <em>urls.py</em>.</p><hr /> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">path</span><span class="p">(</span><span class="s">'placeholder/'</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">'placeholder.urls'</span><span class="p">)</span> <span class="p">),</span>   
</code></pre></div></div><hr /> <p>With these patterns in place, incoming requests to the URL <em>/image/30x25</em> for example will be routed the <em>placeholder</em> view and pass in those values (e.g width=30 and height=25).</p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/Files/" > <div class="nav-arrow">Previous</div> <span class="post-title">Python - Files</span> </a> <a class="post-nav-item post-nav-next" href="/Placeholder-Image-Server-Views/"> <div class="nav-arrow">Next</div> <span class="post-title">Django - Placeholder Image Server : Views</span> </a> </nav> <footer class="footer"> Made by <a href="https://github.com/seifallahhomrani1" target="_blank" rel="noreferrer noopener" >Seif-Allah</a> <span class="footer_item">&copy; 2021</span> <small class="footer_copyright"> </small> </footer> <script src="/assets/js/main.js" defer="defer"></script> </div> </body> </html>
