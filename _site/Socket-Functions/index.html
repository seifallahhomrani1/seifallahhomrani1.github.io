<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet"> 
<link rel="icon" href="/seifallahhomrani1.github.io/assets/images/favicon.ico">

<title>Socket Functions | Seif-Allah's Blog</title>

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Socket Functions | Seif-Allah’s Blog</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Socket Functions" />
<meta name="author" content="Seif-Allah" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction to Sockets functions and how they work." />
<meta property="og:description" content="Introduction to Sockets functions and how they work." />
<meta property="og:site_name" content="Seif-Allah’s Blog" />
<meta property="og:image" content="/seifallahhomrani1.github.io/assets/images/networking/socket.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-14T00:00:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="/seifallahhomrani1.github.io/assets/images/networking/socket.png" />
<meta property="twitter:title" content="Socket Functions" />
<script type="application/ld+json">
{"@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/seifallahhomrani1.github.io/assets/images/cover.png"},"name":"Seif-Allah"},"image":"/seifallahhomrani1.github.io/assets/images/networking/socket.png","url":"/seifallahhomrani1.github.io/Socket-Functions/","headline":"Socket Functions","dateModified":"2020-12-14T00:00:00+01:00","datePublished":"2020-12-14T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"/seifallahhomrani1.github.io/Socket-Functions/"},"author":{"@type":"Person","name":"Seif-Allah"},"description":"Introduction to Sockets functions and how they work.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
<link href="/seifallahhomrani1.github.io/assets/css/prism.css" rel="stylesheet">

<link href="/seifallahhomrani1.github.io/assets/css/theme.css" rel="stylesheet">

<script src="/seifallahhomrani1.github.io/assets/js/jquery.min.js"></script>

</head>




<body>


<!-- Begin Sidebar Navigation
================================================== -->

<div class="sidebar">    
</div>   
<div class="nav-icon">
    <div class="hamburger-bar"></div>
</div>
<div id="blackover-nav" class="blackover"></div>
<nav id="menu">
    <ul>
        <h3>Navigation</h3>
        <li><a href="/seifallahhomrani1.github.io/">Home</a></li>
        <li><a  href="/seifallahhomrani1.github.io/contact">Contact</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Python">Python</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Java">Java</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#CTF-WriteUp">CTF-WriteUp</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Articles">Articles</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Networking">Networking</a></li>    
        <li><a href="/seifallahhomrani1.github.io/categories#Databases">Databases</a></li>
        <li><a href="/seifallahhomrani1.github.io/categories#Django">Django</a></li>     
        <li><a href="/seifallahhomrani1.github.io/categories#Linux">Linux</a></li>     
    </ul>   
</nav>

<script src="/seifallahhomrani1.github.io/assets/js/lunr.js"></script>

<style>
    
</style>

<div class="wrap-search">
    <div class="d-flex align-items-center ml-auto">
        <i class="fas fa-search show-search"></i>
        <form class="bd-search ml-3" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
            <input type="text" class="form-control bigradius text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
        </form>
    </div>
</div>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/seifallahhomrani1.github.io/assets/js/lunrsearchengine.js"></script>


<!-- End Sidebar Navigation
================================================== -->

<div class="site-content ">

<div class="container">

    <!-- Site Logo/Name
    ================================================== -->
   
    <a class="navbar-brand" href="/seifallahhomrani1.github.io/">
        <img src="/seifallahhomrani1.github.io/assets/images/cover.png" alt="Seif-Allah's Blog">
    </a>  
   

    <!-- Site Tag
    ================================================== -->
    

    <!-- Content
    ================================================== -->
    <div class="main-content">
        <div class="entry-header">
    <!-- Post Title -->
    <h1 class="posttitle">Socket Functions</h1>
    <!-- Author & Date  Box -->
    
    
    <div class="d-flex align-items-center mt-4">
        <div>
            
            <img class="author-thumb" src="https://www.gravatar.com/avatar/87daf283c8d29fa33059e59cf5d183bb?s=250&d=mm&r=x" alt="Seif-Allah">
            
        </div>            
        <div>
        Written by <a target="_blank" class="text-dark" href="seifallahhomrani1.social">Seif-Allah</a> on 
        <span class="post-date"><time class="post-date" datetime="2020-12-14">14 Dec 2020</time></span>           
        
        </div>            
    </div>
    
</div>

<!-- Adsense under title if enabled from _config.yml (change your pub id and slot) -->


<!-- Featured Image -->

<div class="entry-featured-image">
    
    <img class="featured-image " src="/seifallahhomrani1.github.io//assets/images/networking/socket.png" alt="Socket Functions">
    
</div>


<!-- Content -->
<!-- Post, Page Content
================================================== -->
<div class="article-post">
    <!-- Toc if any -->
    
    <!-- End Toc -->
    <p>In C, sockets behavee a lot like files since they use file descriptors to identify themselves. Sockets behave a lot like files that you can actually use the <em>read()</em> and <em>write()</em> functions to receive and send data using socket file descriptors. However, there are several functions specifically designed for dealing with sockets.</p>

<h3 id="socketint-domain-int-type-int-protocol">socket(int domain, int type, int protocol)</h3>
<p>Used to create a new socket, returns a <em>file descriptor</em> for the socket or -1 on error.</p>
<h3 id="connectint-fd-struct-sockaddr-remote_host-socklen_t-add_length">connect(int fd, struct sockaddr *remote_host, socklen_t add_length)</h3>
<p>Connects a socket (described by <em>file descriptor fd</em>) to a remote host. Returns 0 on success and -1 on error.</p>
<h3 id="bindint-fd-struct-sockaddr-local_addr-socklen_t-addr_length">bind(int fd, struct sockaddr *local_addr, socklen_t addr_length)</h3>
<p>Binds a socket to a local address so it can listen for incoming connections. Returns 0 on success and -1 on error.</p>
<h3 id="listenint-fd-int-backlog_queue_size">listen(int fd, int backlog_queue_size)</h3>
<p>Listens for incoming connections and queues connection requests up to <em>backlog_queue_size</em>. Returns 0 on success and -1 or error.</p>
<h3 id="acceptint-fd-sockaddr-remote_host-socklen_t-addr_length">accept(int fd, sockaddr *remote_host, socklen_t *addr_length)</h3>
<p>Accepts an incoming connection on a bound socket. The address information from the remote host is written into the <em>remote_host</em> structure and the actual size of the address structure is written into *addr_length. This function returns a new socket file descriptor to identify the connected socket or -1 on error.</p>
<h3 id="sendint-fd-void-buffer-size_t-n-int-flags">send(int fd, void *buffer, size_t n, int flags)</h3>
<p>Sends <em>n</em> bytes from *buffer to socket fd; returns the number of bytes or -1 on error.</p>
<h3 id="recvint-fd-void-buffer-size_t-n-int-flags">recv(int fd, void *buffer, size_t n, int flags)</h3>
<p>Receives <em>n</em> bytes from socket fd into *buffer; returns the number of bytes received or -1 on error.</p>

<p>When a socket is created with the <em>socket()</em> function, the domain, type, and protocol of the socket must be specified. 
The <em>domain</em> refers to the protocol family of the socket. A socket can be used to communicate using a variety of protocol, from the standard Internet protocol used when you browse the Web to amateur radio protocols such as <a href="https://www.youtube.com/watch?v=lx6cm1rNDLM">AX.25</a></p>

<p>These are the first 11 protocol families aka domain taken from : /usr/include/x86_64-linux-gnu/bits</p>

<p>/* Protocol families.  <em>/
#define PF_UNSPEC       0       /</em> Unspecified.  <em>/
#define PF_LOCAL        1       /</em> Local to host (pipes and file-domain).  <em>/
#define PF_UNIX         PF_LOCAL /</em> POSIX name for PF_LOCAL.  <em>/
#define PF_FILE         PF_LOCAL /</em> Another non-standard name for PF_LOCAL.  <em>/
#define PF_INET         2       /</em> IP protocol family.  <em>/
#define PF_AX25         3       /</em> Amateur Radio AX.25.  <em>/
#define PF_IPX          4       /</em> Novell Internet Protocol.  <em>/
#define PF_APPLETALK    5       /</em> Appletalk DDP.  <em>/
#define PF_NETROM       6       /</em> Amateur radio NetROM.  <em>/
#define PF_BRIDGE       7       /</em> Multiprotocol bridge.  <em>/
#define PF_ATMPVC       8       /</em> ATM PVCs.  <em>/
#define PF_X25          9       /</em> Reserved for X.25 project.  <em>/
#define PF_INET6        10      /</em> IP version 6.  <em>/
#define PF_ROSE         11      /</em> Amateur Radio X.25 PLP.  */</p>

<p>As mentioned before, there are several types of sockets, although stream sockets and datagram socket are the most commonly used.
The types of sockets are defined in socket_type.h file in the same directory (/usr/include/x86_64-linux-gnu/bits).</p>
<blockquote>
  <p>Note : File locations may vary over systems.</p>
</blockquote>

<p>/* Types of sockets.  <em>/<br />
enum __socket_type
{
  SOCK_STREAM = 1,              /</em> Sequenced, reliable, connection-based
                                   byte streams.  <em>/<br />
#define SOCK_STREAM SOCK_STREAM
  SOCK_DGRAM = 2,               /</em> Connectionless, unreliable datagrams
                                   of fixed maximum length.  */</p>

<p>The final argument for the socket() function is the protocol, which should almost always be 0. The specification allows for multiple protocols within a protocol family, so this argument is used to select one of the protocols from the family. In practice however, most protocol families only have one protocol which means this should usually be set for 0.</p>

</div>

<!-- Rating -->


<!-- Author Box if enabled from _config.yml -->
<!-- Author Box -->




<!-- Comments if not disabled with comments: false -->
<!-- Comments
================================================== -->
 
<div class="comments">
    <button class="btn btn-dark show-comments">Load Comments</button>         
    <div id="comments">  
        <h4 class="mb-4">Comments</h4>                 
            <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'demowebsite'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
     
    <div class="clearfix"></div>              
    </div>    
</div>       


<!-- Share -->
<div class="share">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Socket Functions&url=/seifallahhomrani1.github.io/Socket-Functions/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=/seifallahhomrani1.github.io/Socket-Functions/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=/seifallahhomrani1.github.io/Socket-Functions/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
</div>


<!-- Related Post -->
<!-- Related Posts
================================================== -->
<div class=" related-posts ">  

    
    <h2 class="text-center mb-4">Explore more like this</h2>
    
    
    <div class="d-flex justify-content-center align-items-center">
    
    <!-- Categories -->
    
    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/seifallahhomrani1.github.io/categories#Networking">Networking</a>                
    

    <!-- Tags -->  
    
                    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/seifallahhomrani1.github.io/tags#networking">networking</a>               
                    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/seifallahhomrani1.github.io/tags#socket">socket</a>               
    

    </div>

    
    
    
    <div class="blog-grid-container">
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/seifallahhomrani1.github.io/What-are-sockets/">
                

                    
                        <img class="img-thumb" src="/seifallahhomrani1.github.io//assets/images/networking/socket.png" alt="What are Sockets ?"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/seifallahhomrani1.github.io/What-are-sockets/">What are Sockets ?</a>
                
            </h2>
            <h4 class="card-text">Introduction to Sockets and how they work. </h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/87daf283c8d29fa33059e59cf5d183bb?s=250&d=mm&r=x" alt="Seif-Allah">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="seifallahhomrani1.social">Seif-Allah</a></span> 
                
                <span class="post-date">13 Dec 2020</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/seifallahhomrani1.github.io/OSI-Model/">
                

                    
                        <img class="img-thumb" src="/seifallahhomrani1.github.io//assets/images/networking/osi_model.png" alt="OSI Model - Crash Course"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/seifallahhomrani1.github.io/OSI-Model/">OSI Model - Crash Course</a>
                
            </h2>
            <h4 class="card-text">OSI Model - Overview | Questions & Answers</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/87daf283c8d29fa33059e59cf5d183bb?s=250&d=mm&r=x" alt="Seif-Allah">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="seifallahhomrani1.social">Seif-Allah</a></span> 
                
                <span class="post-date">02 Nov 2020</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/seifallahhomrani1.github.io/Delays/">
                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/seifallahhomrani1.github.io/Delays/">Delay</a>
                
            </h2>
            <h4 class="card-text"></h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/87daf283c8d29fa33059e59cf5d183bb?s=250&d=mm&r=x" alt="Seif-Allah">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="seifallahhomrani1.social">Seif-Allah</a></span> 
                
                <span class="post-date">21 May 2020</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
                
        </div>        
</div>

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

    </div>

    
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">

                <div class="col-md-6 col-sm-12 text-center text-lg-left">
                    Copyright © 2021 Seif-Allah's Blog 
                </div>
            <div class="col-md-6 col-sm-12 text-center text-lg-right">
                Made with love by    
                <a target="_blank" href="fb.com/seifallahhomrani1">Seif-Allah</a>
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts (if you need bootstrap.js, please add it yourself. I didn't use it for performance reasons, it was not needed in this theme)
================================================== -->

<script src="/seifallahhomrani1.github.io/assets/js/prism.js"></script>

<script src="/seifallahhomrani1.github.io/assets/js/theme.js"></script>




<script id="dsq-count-scr" src="//demowebsite.disqus.com/count.js"></script>


</body>
</html>
